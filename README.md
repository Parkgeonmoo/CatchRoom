<div align="center">
  <img width="500" alt="image" src="https://github.com/catchroom/BE_CatchRoom/assets/114489245/94228459-9aef-4069-975d-bee133b5c7c2">
</div>

 # 💡 Topic

- 숙소의 양도/거래 서비스 API 서버 개발
- 취소 수수료 발생 숙박매물을 고객간에 거래할 수 있는 중개거래 플랫폼 제작 판매할 수도 있으며 ,주문을 할 수 있도록 만든 서비스

# 📝 Summary

- 개인적 사유로 인해 야놀자 구매 숙박 예약권에 대한 취소 수수료가 발생하는 경우 발생하는 유저의 불만 및 탈퇴를 방지하는 것이 최우선 목표.
- 해당 숙박권에 대한 중고거래 플랫폼을 제공함으로써 안전하고 신속한 거래 기능 제공.
예약 취소 수수료 발생을 최소화하는 것에 초점을 맞추어 기능 개발 진행.

# ⭐️ Key Function

- 회원
  - 회원 가입을 통해 각자 고유의 아이디를 생성하여 로그인을 진행한다.
  - JWT 토큰을 이용하여 인증,인가를 진행하며 인가 시간이 초과한 경우 재로그인을 해야 한다.
  - 아이디와,비밀번호를 통하여 인증을 진행하며 일치하지 않을 경우 서비스 사용을 할 수 없다.
  - 회원 가입시 회원의 비밀번호는 암호화하여 저장한다.

- 마이페이지
  - 사용자 별 구매 및 판매 내역을 리스트 형태로 확인할 수 있다.
  - 찜 목록 중 삭제하고 싶은 찜 목록을 삭제할 수 있다.
  - 서비스 후기에 대한 리뷰를 구매/판매 내역에 작성할 수 있다.

- 찜
  - 각 사용자별 찜 목록은 리스트 형태로 마이페이지에서 조회할 수 있다.
  - 찜 목록 내 삭제하고자 하는 찜을 삭제할 수 있다.
  - 물품 조회에서 찜을 클릭시 찜 목록에 상품이 추가된다.

- 리뷰
  - 마이페이지 내 판매/구매 내역에서 사용 리뷰를 작성할 수 있다.
  - 거래한 상품 기준 구매/판매자가 리뷰를 작성할 수 있으며 리뷰 미작성 시 "리뷰 작성 가능" 형태로 게시된다.
  - 구매/판매 시점으로부터 14일이 지나면 "리뷰 기한 만료"로 게시된다.
  - 리뷰 삭제시 "리뷰 삭제 완료"로 뜨며 리뷰를 재작성할 수 없다.
  - 작성된 리뷰는 모든 사용자가 확인할 수 있다.

- 구매내역
  - 상품 구매 시 상품이 구매 내역에 추가된다.
  - 구매한 상품 정보는 마이페이지에서 상세 정보를 확인할 수 있다.
  - 상품 상세 페이지 내 상품 구매 및 구매자 채팅을 통해 상품을 구매할 수 있다.

- 판매내역
  - 사용자가 야놀자에서 구매한 상품은 상품 등록 후보 리스트로 확인할 수 있다.
  - 상품 등록 후보 리스트에서 판매할 상품을 선택하여 마켓 플레이스에 상품을 등록할 수 있다.
  - 사용자는 상품의 가격 및 게시기한, 캐치특가 예약 여부 등을 수정할 수 있다.
  - 게시 기한이 종료되면 상품은 마켓 플레이스에 노출되지 않는다.
  - 상품 삭제 시 Soft-Delete로 삭제되며, DB에서 데이터가 삭제되지 않는다.

- 검색
  - 사용자는 4개의 정렬 타입으로 상품 검색을 할 수 있다. 사용자는 특정 지역에 대한 상품 정보를 확인할 수 있다. 사용자는 숙박 유형에 맞는 상품 정보를 확인할 수 있다.

- 채팅
  - 구매자는 상품 상세 페이지에서 판매자와 채팅을 진행할 수 있다.
  - 채팅방 생성 및 삭제 시 채팅방 리스트 및 마지막 메세지가 최신화된다.
  - 구매자는 네고하기 기능을 통해 판매자에게 가격 네고 요청을 전달할 수 있다.
  - 판매자는 네고 승인 여부를 결정할 수 있다.
  - 판매 완료 후 채팅방 삭제 시 채팅방 목록은 DB에서 삭제된다.

# 🛠 Tech Stack

- Framework
  - `springboot`, `springsecurity`, `springcloud`

- DB
  - `MongoDB`, `mysql`, `redis`

- Protocol & Message Queue
  - `Web Socket`, `STOMP`, `redis`

- Library
  - `JPA`,`queryDSL`, `Lombok`, `jwt`

- Communication
  - `notion`, `slack`, `swagger`

- Server
  - `ec2`, `rds`,`s3`, `route53`, `loadBalancer`, `codeDeploy`,`codeDeploy docker`

# 🧑🏻‍💻 Team

- 백엔드 개발자 4명,프론트 개발자 6명,UI/UX 1명,PM 5명

# 🤚🏻 Part

- 회원 도메인 API 개발
- 공통 API Response 개발
- 공통 예외 처리 개발
- 마이페이지 도메인 API 개발
- SpringDoc을 이용한 Swagger 연동
- ERD 설계
- API 명세서 작성
- 회원 도메인 테스트 코드 작성
- API 서버 인프라 구축 및 고도화
- slack webhook을 이용한 모니터링 구축

# 🤔 Learned

- 조인이 많이 발생하는 테이블들에 대해서 ERD 설계를 조금 더 유연하게 할 수 있게 되었다.
- 공통 예외 처리 또는 타입이 정해진 부분에 대해서 ENUM을 쓰면 더욱 유연하고 확장성 있게 프로젝트를 관리할 수 있음을 배웠다.
- AWS를 이용한 인프라에 대한 기본 구조들을 알게 되었다.
- 마이페이지에 속한 모든 도메인들을 개발을 맡다보니 각 프로젝트에서 기능별로 필요로 하는 핵심 기능들에 대해 잘 알 수 있게 되었다.
- JPA에서 발생하는 N+1 문제를 해결할 수 있게 되었다.
- 테스트 코드를 작성하면서 Given,When,Then의 구조를 더욱 잘 이해할 수 있게 되었다.
- API 명세서를 작성하면서 프론트와 협업을 진행할때 어떻게 하면 더욱 편리하게 할 수 있는지 알게 되었다.
- slack webhook을 통한 서버 모니터링을 진행하면서 이슈가 발생했을 경우 트래킹을 더욱 빨리 할 수 있게 되었다.

 # ⚙ API 문서

 ### [Swagger](https://www.catchroom.xyz/swagger-ui/index.html)
: Swagger를 이용한 API 문서 작업
    
  ### [Notion](https://www.notion.so/v1-user-register-ca9e305116d349e7a9390b6205b0de45?pvs=4)
: 노션을 이용한 API 문서 작업

 
|                           API 목록                           |                                              API 요청 데이터                                            |
| :-------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------: |
|![캡처](https://github.com/Parkgeonmoo/CatchRoom/assets/50697545/f00b572f-0356-47df-9c97-71a69c9988b7) |![캡처](https://github.com/Parkgeonmoo/CatchRoom/assets/50697545/83b28909-a221-4833-b588-064f06932170)|
|      API 목록 페이지이다. 해당 페이지를 통해 몇 개의 API와 어떤 API들이 있는지 확인할 수 있다.       |                  프론트에서 해당 API를 요청할 떄 필요로 하는 Input 데이터를 작성하여 호출하기 편하도록 작성하였다.                    |

|                           API 성공 응답 데이터                           |                                              API 실패 응답 데이터                                          |
| :-------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------: |
|![캡처](https://github.com/Parkgeonmoo/CatchRoom/assets/50697545/0dd03572-5a83-4680-94fa-4f1d3ddedc40)|![캡처](https://github.com/Parkgeonmoo/CatchRoom/assets/50697545/70005fbe-4e52-4dea-b85f-a9d157f6fd48)|
|      API 호출 성공을 하였을때 주는 값들을 적은 응답 데이터이다. 성공 시 return 하는 값을 알 수 있다.       |                   API호출 실패를 하였을때 주는 값들을 적은 응답 데이터이다. 실패 시 return 하는 값을 알 수 있다.                     |






  # 📷 Screenshot

# 실행 영상

https://github.com/Parkgeonmoo/CatchRoom/assets/50697545/c0bbc9e7-bded-4010-b39f-5957980cc767



    
